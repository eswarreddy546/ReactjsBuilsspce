version: 0.2

phases:
  install:
    runtime-versions:
      nodejs: 14
    commands:
      # Upgrade Yarn to the latest version
      - npm install -g yarn@latest
      # Install project dependencies
      - yarn install --frozen-lockfile
  build:
    commands:
      # Run build script
      - yarn run build

artifacts:
  # Include all files required to run application
  # Notably excluded is node_modules, as this will cause overwrite error on deploy
  files:
    - public/**/*
    - src/**/*
    - package.json
    - appspec.yml
    - scripts/**/*
