version: 0.2

phases:
  install:
    runtime-versions:
      nodejs: 14   # Change the Node.js version to 14 (matches the available versions)
    commands:
        # Ensure Yarn is installed
        - npm install -g yarn
        # Install project dependencies using Yarn
        - yarn install
  build:
    commands:
        # Run build script
        - yarn run build
     
artifacts:
  # Include all files required to run application
  # Notably excluded is node_modules, as this will cause overwrite error on deploy
  files:
    - public/**/*
    - src/**/*
    - package.json
    - appspec.yml
    - scripts/**/*
